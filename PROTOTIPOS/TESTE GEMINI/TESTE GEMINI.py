from google import genai
import os
import re

# ==============================
# CONFIGURA√á√ïES INICIAIS
# ==============================
client = genai.Client(api_key="CHAVE API GOOGLE AQUI")

ARQ_REGULAMENTO = "regulamento_regular.txt"
ARQ_RESULTADOS = "avalia√ß√£o_gemini_RAG.txt"

# ==============================
# LEITURA DO REGULAMENTO
# ==============================
if not os.path.exists(ARQ_REGULAMENTO):
    raise FileNotFoundError(f"O arquivo {ARQ_REGULAMENTO} n√£o foi encontrado.")

with open(ARQ_REGULAMENTO, "r", encoding="utf-8") as f:
    regulamento = f.read()

# ==============================
# PERGUNTAS E RESPOSTAS DIRETAMENTE NO C√ìDIGO
# ==============================
# Basta copiar e colar novos blocos PE/RE abaixo:
avaliacoes = [
    {
        "PE": "1 - O que significa TCC?",
        "RE": """<think> Ok, vou tentar entender o que significa TCC no contexto proporcionado. Primeiro, reconhe√ßo que o usu√°rio est√° lidando com regulamentos acad√™micos relacionados ao curso de Licenciatura em Computa√ß√£o. Vejo v√°rios artigos mencionados: 33, 19, 21, 31 e 32.  O Artigo 19 fala sobre a defesa p√∫blica da vers√£o final do Projeto e Monografia perante uma Banca Examinadora composta pelo Professor Orientador e outros dois membros indicados. Aqui, √© poss√≠vel notar que o TCC pode ser mencionado implicitamente, j√° que a Banca Examinadora avalia a defesa.  J√° no Artigo 21, h√° refer√™ncias √† necessidade de ter tr√™s membros presentes na Banca para executar os trabalhos. Se n√£o houver os tr√™s membros, √© marcada uma nova data para a defesa. Isso sugere que o TCC √© um evento importante, possivelmente a defesa p√∫blica do trabalho acad√™mico.  Para confirmar isso, vejo que no Artigo 31, menciona-se a substitui√ß√£o de publica√ß√µes cient√≠ficas em certos ve√≠culos com Qualis B, o que pode ser relacionado √†s exig√™ncias para aprova√ß√£o na defesa do TCC.  No Artigo 32, detalham-se os requisitos para solicita√ß√£o de substitui√ß√£o, incluindo c√≥pias do artigo, da publica√ß√£o e aceite. Isso tudo acontece antes da defesa p√∫blica, o que refor√ßa a ideia de que o TCC √© a defesa desse trabalho.  Portanto, concluo que TCC neste contexto significa "Defesa P√∫blica" ou "Tese de Curso", onde o aluno defende sua Monografia ou Projeto final perante a Banca Examinadora. </think>  No contexto fornecido, **TCC** refere-se √† Defesa P√∫blica do aluno perante a Banca Examinadora. Trata-se da apresenta√ß√£o p√∫blica da vers√£o final de seu projeto ou monografia, com a avalia√ß√£o dos membros da banca respons√°veis por julgar e aprovar o trabalho acad√™mico."""
    },
    {
        "PE": "2 - Quais s√£o os objetivos da monografia?",
        "RE": """<think> Ok, vou tentar entender os objetivos da monografia com base no contexto fornecido. Primeiro, lierei cada artigo relacionado para ver o que est√° mencionado sobre os objetivos gerais e espec√≠ficos.  Art√≠culo 19 fala sobre a defesa p√∫blica do projeto e da monografia perante uma banca composta pelo professor orientador e outros dois examinadores indicados pelo orientador. Isso me parece ser mais sobre o processo de defesa, n√£o diretamente os objetivos.  Art√≠culo 3¬∫ enumera os objetivos gerais da monografia: propiciar aos alunos a chance de demonstrar sua habilita√ß√£o adquirida, aprofundamento tem√°tico, est√≠mulo √† produ√ß√£o cient√≠fica, consulta de bibliografia especializada, interpreta√ß√£o e cr√≠tica. Al√©m disso, menciona o desenvolvimento de solu√ß√µes tecnol√≥gicas inovadoras adaptadas ao contexto do ensino.  Art√≠culo 22 diz que as sess√µes s√£o p√∫blicas, mas isso tamb√©m se refere mais √† forma de defesa, n√£o aos objetivos.  Art√≠culo 16 fala sobre a estrutura seguir o modelo definido pelo Colegiado, e artigo 24 menciona a responsabilidade do professor Coordenador em encaminhar os projetos para a banca com anteced√™ncia.  Ent√£o, voltando para os objetivos, no Art. 3¬∫ s√£o listados como:  1. Propiciar oportunidade para demonstrar grau de habilita√ß√£o adquirido. 2. Aprofundamento tem√°tico. 3. Est√≠mulo √† produ√ß√£o cient√≠fica. 4. Consulta de bibliografia especializada. 5. Desenvolvimento de capacidade de interpreta√ß√£o e cr√≠tica. 6. Possibilidade de desenvolver solu√ß√µes tecnol√≥gicas inovadoras e adaptadas.  Ent√£o, para resumir em portugu√™s, os objetivos s√£o:  - Permitem mostrar o que o aluno aprendeu. - Profundizam um tema espec√≠fico. - Incentivam a produ√ß√£o cient√≠fica. - Promovem o uso de fontes especializadas. - Melhoram habilidades de an√°lise e cr√≠tica. - Permitem criar tecnologias inovadoras adaptadas ao contexto de ensino.  Isso parece cobrir os pontos mencionados no Art. 3¬∫, al√©m do aprimoramento de solu√ß√µes tecnol√≥gicas que s√£o mencionadas tamb√©m. Talvez estou entendendo bem, mas √© importante garantir que n√£o estou omitindo nenhum ponto relevante. </think>  Os objetivos da monografia s√£o:  1. Propiciar aos alunos oportunidade para demonstrar o grau de habilita√ß√£o adquirido; 2. Profundizar um tema espec√≠fico; 3. Estimular a produ√ß√£o cient√≠fica; 4. Promover o uso de fontes especializadas; 5. Melhorar as habilidades de interpreta√ß√£o e cr√≠tica; 6. Permitir o desenvolvimento de solu√ß√µes tecnol√≥gicas inovadoras adaptadas ao contexto do ensino.  Esses objetivos s√£o listados no Artigo 3¬∫ do contexto fornecido, com a finalidade de ajudar os alunos a exibirem seu conhecimento, incentivar a criatividade e aprofundar suas habilidades em various aspectos."""
    },
    {
        "PE": "3 - Quais s√£o as atribui√ß√µes do coordenador?",
        "RE": """<think> Ok, eu preciso responder sobre as atribui√ß√µes do coordenador com base no contexto fornecido. Primeiro, vou ler todo o contexto para entender qual √© a estrutura e quais s√£o as responsabilidades mencionadas.  Come√ßo com o Artigo 9¬∫, que fala sobre a troca de orientador sendo permitida mediante requerimento justificado e homologado pelo coordenador do POIE. Isso me leva a pensar que o coordenador tem a fun√ß√£o de aprovar ou negar essas pedidos.  Depois vejo o Artigo 13, que listas various duties dos alunos, como frequentar reuni√µes, manter contato com o professor orientador e cumprir cronograma. Aqui, menciona-se que o coordenador tem a compet√™ncia de resolver casos especiais e encaminhar para decis√£o do coordenador do curso.  Continuo lendo os par√°grafos seguintes, que detalham as entregas das monografias e projetos pelos alunos, como fornecer c√≥pias impressas, folhas de encaminhamento e autoriza√ß√£o para publica√ß√£o. Tamb√©m vejo que √© responsabilidade dos alunos defenderem p√∫blicoamente o projeto.  No Artigo 7¬∫, √© dito que se o aluno n√£o encontrar professor para orientar, ele deve procurar o coordenador do POIE para indici√°-lo. Isso sugere que o coordenador tem a fun√ß√£o de ajudar os alunos a encontrarem orientadores adequados.  Artigo 4¬∫ menciona que o coordenador do curso indica o coordenador do POIE e que este professor tem 4 horas semanais atribu√≠das ao componente curricular.  Agora, para sintetizar as atribui√ß√µes, vou listar todas as mencionadas no contexto:  1. Aprovar ou negar a troca de orientador. 2. Resolver casos especiais e encaminhar para decis√£o do coordenador do curso. 3. Indicar professores orientadores para alunos que n√£o encontrarem outro professor. 4. Gest√£o administrativa, como protocolar documentos e manter arquivos. 5. Coordina√ß√£o das atividades do POIE, incluindo o cronograma de entregas. 6. Monitorar a frequ√™ncia dos alunos na orienta√ß√£o e aplicar consequ√™ncias por baixa freq√º√™ncia. 7. Gerenciar os prazos e penalidades descritos no Artigo 14. 8. Participar da elabora√ß√£o do Cronograma de Atividades junto com o coordenador do curso.  Vou verificar se estou faltando algo. No contexto, tamb√©m √© mencionado que o coordenador resolve casos especiais, como a distribui√ß√£o equitativa dos alunos entre os professores. Isso √© uma atribui√ß√£o importante que precise incluir.  Tamb√©m vejo que o coordenador tem papel na defini√ß√£o das normas e regulamentos para os alunos, como as instru√ß√µes de orienta√ß√£o e a aprova√ß√£o das monografias.  Ent√£o, todas essas pontos devem estar claros nas atribui√ß√µes do coordenador. </think>  As atribui√ß√µes do coordenador do Projeto de Orienta√ß√£o em Inform√°tica na Educa√ß√£o (POIE) s√£o as seguintes:  1. **Aprovar ou negar pedidos de troca de orientador**: De acordo com o Artigo 9¬∫, √© compet√™ncia do coordenador homologar os requerimentos para a mudan√ßa de professor.  2. **Resolu√ß√£o de casos especiais e encaminhamento para decis√£o**: O coordenador tem a responsabilidade de resolver quest√µes √∫nicas e enviar os casos mais complexos para o Coordenador do Curso, conforme mencionado no Artigo 13.  3. **Indica√ß√£o de professores orientadores**: Se um aluno n√£o encontrar um professor interessado em orient√°-lo, ele deve procurar o coordenador do POIE, que indicar√° um professor compat√≠vel, considerando a distribui√ß√£o equitativa e as √°reas de interesse dos docentes (Par√°grafo √önico do Artigo 7¬∫).  4. **Gest√£o administrativa**: O coordenador √© respons√°vel por protocolar documentos na Coordena√ß√£o e arquivar os formul√°rios necess√°rios, como as folhas de encaminhamento e autoriza√ß√£o para publica√ß√£o.  5. **Coordina√ß√£o das atividades do POIE**: Ele participa da elabora√ß√£o do Cronograma de Atividades junto com o Coordenador do Curso, estabelecendo prazos e datas para entregas (Artigo 23).  6. **Monitoramento da frequ√™ncia dos alunos**: O coordenador calcula a frequ√™ncia dos orientandos nas reuni√µes e encontros com a Coordena√ß√£o. Alunos que n√£o atingirem 75% de freq√º√™ncia na orienta√ß√£o s√£o automaticamente reprovados (Par√°grafo √önico do Artigo 13).  7. **Gerenciamento de prazos e penalidades**: Ele coordina o cumprimento dos prazos mencionados no Artigo 14, incluindo a protocoliza√ß√£o de justificativas por entregas fora do prazo.  8. **Participa√ß√£o em decis√µes sobre normas e regulamentos**: O coordenador contribui para a defini√ß√£o das instru√ß√µes de orienta√ß√£o e as normas necess√°rias para os alunos, garantindo que o Regulamento seja aplicado adequadamente.  Essas atribui√ß√µes s√£o essenciais para o funcionamento do componente curricular POIE e para garantir que todos os alunos tenham acesso a uma orienta√ß√£o adequada e sejam acompanhados nos est√°gios de seu trabalho acad√™mico."""
    },
    {
        "PE": "4 - O que o aluno deve fazer se n√£o encontrar um orientador?",
        "RE": """<think> Ok, eu preciso entender o que o aluno deve fazer se n√£o encontrar um orientador de acordo com o contexto fornecido. Primeiro, vou ler todo o contexto para identificar as informa√ß√µes relevantes.  No Artigo 7¬∫, est√° escrito que se o aluno n√£o encontrar nenhum professor que aceite assumir a orienta√ß√£o, ele deve procurar o Coordenador de POIE (Professor Orientador em Inform√°tica na Educa√ß√£o). O Coordenador ent√£o indicar√° um Professor Orientador. No Par√°grafo √önico desse artigo, menciona que a indica√ß√£o do Professor Orientador deve considerar o Projeto de Pesquisa e distribuir os alunos conforme as √°reas de interesse dos professores, al√©m de tentar uma distribui√ß√£o equitativa entre eles.  No Artigo 8¬∫, cada professor pode orientar no m√°ximo 08 alunos por semestre. Al√©m disso, a elabora√ß√£o dos Projetos Orientados √© responsabilidade dos alunos, seguindo as instru√ß√µes recebidas durante a disciplina de Metodologia da Pesquisa.  No Artigo 6¬∫, o POIE I ser√° desenvolvido sob orienta√ß√£o de um Professor do Curso de Licenciatura em Computa√ß√£o, escolhido pelo aluno mediante Requerimento pr√≥prio, tendo em vista sua √°rea de concentra√ß√£o e ap√≥s o aceite do Professor-Orientador. A Monografia √© uma atividade acad√™mica que pressup√µe a aloca√ß√£o de parte do tempo de ensino dos professores, conforme normas internas do CESIT/UEA.  No Par√°grafo √önico do Artigo 6¬∫, est√° permitido ter um co-orientador pertencente √† UEA ou externo.  Resumindo, se o aluno n√£o encontrar um orientador imediatamente, ele deve procurar o Coordenador de POIE para que este indique um Professor Orientador. O Coordenador considerar√° o Projeto de Pesquisa e distribuir√° os alunos de forma equitativa entre os professores, sempre que poss√≠vel.  Portanto, a resposta √© que o aluno deve procurar o Coordenador de POIE para obter um novo Professor Orientador. </think>  Se n√£o encontrar um orientador, o aluno deve proceder da seguinte maneira:  1. **Procurar o Coordenador de POIE**: Dever√° enviar um requerimento ou se dirigir ao Coordenador respons√°vel pelo programa POIE para solicitar ajuda na indica√ß√£o de um Professor Orientador.  2. **Aceita√ß√£o do Professor-Orientador Indicado**: Ap√≥s a indica√ß√£o, o aluno aceitar√° o Professor Orientador designado, independentemente da √°rea de concentra√ß√£o ou prefer√™ncias iniciais, desde que ele possua a expertise necess√°ria para supervisionar o projeto.  3. **Cumprimento das Normas Internas**: O aluno garantir√° que o trabalho ser√° desenvolvido de acordo com as normas espec√≠ficas do CESIT/UEA e que a carga hor√°ria atribu√≠da √† orienta√ß√£o ser√° computada corretamente no Plano de Trabalho do Professor.  4. **Poss√≠vel Co-Orienta√ß√£o**: Caso seja aceito um co-orientador, ele pode colaborar na supervis√£o do projeto, podendo ser externo ou da pr√≥pria UEA.  **Resposta Final:** O aluno deve procurar o Coordenador de POIE para que este lhe indique um Professor Orientador apropriado, assegurando-se de seguir as normas e instru√ß√µes estabelecidas pelo programa."""
    },{
        "PE": "5 - Quem deve escrever a monografia?",
        "RE": """<think> Ok, eu preciso responder quem deve escrever a monografia baseando-me no contexto fornecido. Primeiro, vou ler o contexto com aten√ß√£o para identificar as informa√ß√µes relevantes.  No Artigo 16, menciona que a estrutura do Projeto e da Monografia deve seguir um modelo definido pelo Colegiado do Curso. Isso sugere que o aluno √© respons√°vel por ambos os documentos, pois s√£o eles que precisam ajustar-se ao modelo aprovado.  Em seguida, no Artigo 3¬∫, os objetivos gerais da Monografia s√£o listados. Aqui, destaca-se a oportunidade de alunos do Curso de Licenciatura em Computa√ß√£o demonstrarem seu grau de habilita√ß√£o adquirido, o aprofundamento tem√°tico, entre outros pontos. Isso me faz pensar que a monografia √© uma obra feita pelo aluno, j√° que ele √© quem ir√° defender e expor seus conhecimentos.  O Artigo 19 fala sobre a defesa p√∫blica do Projeto e da Monografia defendidos pelo aluno perante uma Banca Examinadora. Acompanha ainda que a banca √© composta pelo Professor Orientador e outros dois examinadores designados. Isso refor√ßa a ideia de que o aluno √© o autor principal, j√° que ele √© quem est√° defendendo a obra.  No Artigo 22, menciona que as sess√µes s√£o p√∫blicas, o que n√£o afeta diretamente quem escreveu, mas confirma que a monografia √© uma tarefa do aluno.  Finalmente, no Artigo 24, o professor Coordenador √© respons√°vel por encaminhar os Projetos e Monografias para os membros das bancas com anteced√™ncia. Novamente, isso mostra que a prepara√ß√£o dos documentos est√° sob o alento do aluno.  Tamb√©m considero que na maioria dos cursos acad√™micos, a monografia √© uma obriga√ß√£o dos alunos, onde eles apresentam seus estudos e trabalho em um tema espec√≠fico. Assim, n√£o h√° men√ß√£o de outro autor al√©m do aluno, o que refor√ßa minha opini√£o de que ele √© o √∫nico respons√°vel por ela.  Portanto, concluo que quem deve escrever a monografia √© o pr√≥prio aluno do Curso de Licenciatura em Computa√ß√£o. </think>  Quem deve escribir la monograf√≠a es el propio alumno del Curso de Licenciatura en Computaci√≥n. A monografia es una tarefa encomendada pelo aluno para demostrar su grau de habilitaci√≥n, aprofundamento tem√°tico y otras habilidades acad√©micas y tecnol√≥gicas."""
    },{
        "PE": "6 - Quanto o aluno deve tirar para ser aprovado no TCC?",
        "RE": """<think> Ok, eu preciso responder √† pergunta: "Quanto o aluno deve tirar para ser aprovado em TCC?" baseando-me no contexto fornecido. Primeiro, vou analisar o conte√∫do dispon√≠vel para entender as normas relativas ao Trabalho de Conclus√£o de Curso (TCC).  Observo que o POIE (Projeto Orientado a Investiga√ß√£o de Ensino) √© uma pesquisa individual que resulta em uma monografia. O TCC, nesse contexto, parece ser equivalente √† defesa da monografia.  No Artigo 28, estipula-se que o aluno ser√° avaliado baseando-se em tr√™s itens: Semin√°rio de Andamento (20%), Texto da monografia ou Projeto de Pesquisa (60%) e Apresenta√ß√£o Oral (20%). Portanto, a pontua√ß√£o total para aprova√ß√£o √© 100%.  A pergunta se refere √† pontua√ß√£o necess√°ria para ser aprovado. Como os itens s√£o ponderados, o aluno precisa obter pelo menos 50% em cada componente para cumprir o m√≠nimo necess√°rio. No entanto, para obter a aprova√ß√£o global, a soma deles deve ultrapassar ou igua√ßar 100%.  No entanto, muitas vezes, as institui√ß√µes t√™m crit√©rios mais flex√≠veis ou espec√≠ficos. Por exemplo, se a pontua√ß√£o total √© 100%, ent√£o o aluno precisa tirar pelo menos 40% em cada componente (20% + 60% = 80%) e obter uma pontua√ß√£o global de 70% ou mais (100% - 30%, supondo que 30% √© o limite para reprovagem). Mas isso depende das normas espec√≠ficas da institui√ß√£o.  Outra considera√ß√£o: a Defesa P√∫blica da Monografia acontece ap√≥s o Semin√°rio de Andamento e a apresenta√ß√£o oral. Ela vale 40% da pontua√ß√£o total (20% + 20%). Se o aluno tiver obtido uma pontua√ß√£o total de, digamos, 70%, ent√£o na defesa ele precisa tirar 35 pontos: 60% na monografia e 10% na defesa.  No entanto, sem mais detalhes espec√≠ficos sobre os crit√©rios de corte, a safer √© assumir que para ser aprovado, o aluno precisa obter pelo menos 50% em cada componente e um total de, pelo menos, 70%.  Finalmente, concluo que o aluno deve tirar, pelo menos, 40 pontos na monografia (60%) e 4 pontos na defesa oral (20%), somando a 44%? N√£o, isso n√£o parece certo. Talvez, para obter uma pontua√ß√£o total de 70%, ele precisa tirar 42 na monografia (70% √ó 60%) e 14 na defesa (70% √ó 20%). Isso resulta em um total de 56 pontos.  Portanto, o aluno deve obturar pelo menos 42 na monografia e 14 na defesa para obter uma pontua√ß√£o total de 56, o que corresponde a 56% do total. No entanto, isso depende das normas precisas da institui√ß√£o. </think>  Para obter a aprova√ß√£o no TCC (Trabalho de Conclus√£o de Curso), o aluno deve obturar um m√≠nimo de 42 pontos na monografia e 14 pontos na apresenta√ß√£o oral, resultando em uma pontua√ß√£o total de 56%. No entanto, isso depende das normas espec√≠ficas da institui√ß√£o.  Resposta final: O aluno deve obter pelo menos 42 pontos na monografia (60%) e 14 pontos na apresenta√ß√£o oral (20%), somando a um total de 56 pontos, para ser aprovado."""
    },{
        "PE": "7 - O aluno que tirar nota 7 est√° aprovado?",
        "RE": """<think> Ok, eu preciso responder se o aluno que tirar nota 7 est√° aprovado. Primeiro, vou olhar para o contexto fornecido e identificar as relevantes disposi√ß√µes legais que tratam das notas e a aprova√ß√£o do aluno.  Vou come√ßar com o Artigo 29, que fala sobre a nota final sendo publicada ap√≥s a Defesa. O ¬ß1o explica que a nota da banca √© a m√©dia das notas atribu√≠das pelos membros da Banca Examinadora e pelo Professor Orientador, de acordo com os crit√©rios estabelecidos no regulamento. Em seguida, o ¬ß2o define que ser√° considerado aprovado o aluno que obtiver uma m√©dia igual ou superior a 6,0 nas notas individuais.  Agora, vejo no Artigo 27 que o aluno que n√£o entregar a Monografia ou Projeto na data fixada no Cronograma de Atividades, ou se negar a se apresentar para a Defesa Oral, ser√° automaticamente reprovado. Portanto, a entrega das atividades e a participa√ß√£o na defesa s√£o pr√©-requisitos essenciais para a aprova√ß√£o.  No Artigo 31, √© mencionada a possibilidade de substitui√ß√£o da nota por outro pontos em casos espec√≠ficos, como publicar um artigo cient√≠fico completo em uma revista com Qualis B. No entanto, isso √© uma exce√ß√£o e n√£o interfere diretamente na nota de 7, a menos que o aluno satisfa√ßa os crit√©rios para a substitui√ß√£o.  O Artigo 3¬∫ enumera os objetivos gerais da Monografia, como proporcionar oportunidades para demonstrar habilidades, est√≠mulo √† produ√ß√£o cient√≠fica e desenvolvimento de solu√ß√µes tecnol√≥gicas. No entanto, n√£o h√° men√ß√£o direta sobre a nota 7 ou crit√©rios espec√≠ficos que a justifiquem.  Por fim, o Artigo 19 menciona que a vers√£o final do Projeto e da Monografia ser√° defendida perante a Banca Examinadora, com a presen√ßa do Professor Orientador. A defesa √© crucial para a aprova√ß√£o, mas n√£o h√° informa√ß√£o sobre a nota de 7 em si.  Considerando todo o contexto, a nota de 7 est√° abaixo dos 6,0 requeridos para aaprova√ß√£o. Portanto, o aluno que tirar nota 7 n√£o estar√° aprovado. </think>  N√£o. A nota final √© calculada como a m√©dia das avalia√ß√µes dos membros da banca e do professor orientador. Para ser considerado aprovado, o aluno precisa obter uma m√©dia igual ou superior a 6,0. Portanto, um aluno que obtenha nota 7 n√£o est√° aprovado.  Resposta: O aluno que tirar nota 7 n√£o est√° aprovado."""
    },{
        "PE": "8 - Quantos orientandos cada orientador pode ter?",
        "RE": """<think> Ok, vou tentar resolver a pergunta. Primeiro, preciso entender o que est√° sendo perguntado. A pergunta √©: "Quantos orientandos cada orientador pode ter?" No contexto fornecido, existem v√°rios artigos que regulamentam as normas da orienta√ß√£o de alunos em projeto POIE (Projeto Orientado em Inform√°tica na Educa√ß√£o).  Vou come√ßar analisando o Artigo 8¬∫, porque ele menciona diretamente a carga de alunos por professor. O texto diz: "Cada professor pode orientar no m√°ximo 08 (oito) alunos por semestre". Isso sugere que cada professor tem um limite de 8 alunos por per√≠odo acad√™mico.  Ent√£o, para confirmar, vou verificar se h√° qualquer outra disposi√ß√£o que possa limitar ou flexibilizar essa carga. Vejo o Artigo 7¬∫, que fala sobre a situa√ß√£o em que um aluno n√£o encontra um professor e como √© feita a indica√ß√£o de orientador. Mas isso parece ser uma exce√ß√£o mais espec√≠fica, n√£o afetando o limite m√°ximo de alunos por professor.  Tamb√©m vejo no Artigo 10¬∫ os deveres do Professor Orientador, dentre eles a avalia√ß√£o das propostas dos alunos e a responsabilidade na elabora√ß√£o da monografia. Mas isso tamb√©m n√£o menciona um n√∫mero espec√≠fico de alunos, apenas que cada aluno deve ter orienta√ß√£o individual.  Refor√ßo: O Artigo 8¬∫ √© claro ao estabelecer o limite de 8 alunos por semestre por professor. Portanto, o respondido √© que cada professor pode orientar no m√°ximo 8 alunos por semestre. </think>  Cada Professor Orientador pode orientar no m√°ximo **08 (oito)** alunos por semestre, conforme determinado pelo Artigo 8¬∫ do regulamento.  **Resposta:** \boxed{8}"""
    },
]

# ==============================
# FUN√á√ÉO PARA LIMPAR THINK
# ==============================
def limpar_think(texto: str) -> str:
    # Remove trechos dentro de <think>...</think> ou "Think:" e similares
    texto = re.sub(r'(?i)<think>.*?</think>', '', texto, flags=re.DOTALL)
    texto = re.sub(r'(?i)think:.*', '', texto)
    return texto.strip()

# ==============================
# AVALIA√á√ÉO E SALVAMENTO
# ==============================
for i, bloco in enumerate(avaliacoes, start=1):
    pergunta = bloco["PE"].strip()
    resposta = limpar_think(bloco["RE"].strip())

    solicitacao = f"""
    Voc√™ √© um avaliador. Sua tarefa √© analisar respostas dadas a perguntas
    sobre um regulamento. Use a seguinte escala de classifica√ß√£o:

    0 = Predominantemente em outro idioma
    1 = Completamente equivocado (alucina√ß√£o)
    2 = Desvio de contexto
    3 = Parcialmente correto
    4 = Correto (mas prolixo ou com portugu√™s errado)
    5 = Completamente correto

    Regulamento: {regulamento}

    Pergunta: {pergunta}

    Resposta: {resposta}

    Retorne apenas um n√∫mero de 0 a 5 representando a classifica√ß√£o.
    """

    response = client.models.generate_content(
        model="gemini-2.5-flash",
        contents=solicitacao
    )

    classificacao = response.text.strip()
    match = re.search(r'[0-5]', classificacao)
    nota = match.group(0) if match else "?"

    # Salva resultado no arquivo
    with open(ARQ_RESULTADOS, "a", encoding="utf-8") as out:
        out.write(f'PE: "{pergunta}"\n')
        out.write(f'RE: "{resposta}"\n')
        out.write(f'CL: {nota}\n\n')

    print(f"‚úÖ ({i}/{len(avaliacoes)}) {pergunta} ‚Üí CL: {nota}")

print("\nüìÑ Todas as avalia√ß√µes foram conclu√≠das e salvas em avalia√ß√£o_gemini_RAG.txt.")
